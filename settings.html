<!DOCTYPE html>
<html lang="en">
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Lexfall Settings</title>
  <style>
    :root { --bg:#f0f0f0; }
    body { font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif; background:var(--bg); margin:0; padding:16px; }
    .panel { background:#ffffff; max-width:420px; margin:12px auto; padding:16px; border-radius:12px; }
    h2 { margin:0 0 12px; font-size:1.2rem; text-align:center; }
    .row { display:flex; align-items:center; gap:10px; margin:10px 0; }
    label { display:block; font-weight:600; margin:10px 0 6px; }
    input[type=number] { width:100%; max-width:120px; padding:.5em .6em; }
    .actions { display:flex; gap:10px; justify-content:center; margin-top:14px; }
    button, a.button { padding:.8em 1.1em; border:none; border-radius:10px; background:#1f6feb; color:#fff; text-decoration:none; cursor:pointer; }
    a.secondary { background:#666; }
    .note { color:#333; font-size:.92em; opacity:.85; }
  </style>
</head>
<body>
  <div class="panel">
    <h2>Settings</h2>
    <label for="minLen">Minimum word length</label>
    <div class="row">
      <input id="minLen" type="number" min="2" max="16" step="1"/>
      <span class="note">(Dictionary min is 2)</span>
    </div>
    <label class="row"><input id="autoConfirm" type="checkbox"/> Auto-confirm on slide release</label>
    <div class="actions">
      <button id="save">Save</button>
      <a class="button secondary" href="lexfall.html">Back</a>
    </div>
  </div>

<script>
(function(){
  var settings = { minLen: 3, autoConfirm: true };
  try {
    var raw = localStorage.getItem('lexfall_settings');
    if (raw) {
      var s = JSON.parse(raw);
      if (s && typeof s.minLen === 'number') settings.minLen = Math.max(2, Math.min(16, s.minLen));
      if (typeof s.autoConfirm === 'boolean') settings.autoConfirm = s.autoConfirm;
    }
  } catch(e){}

  var inputMinLen = document.getElementById('minLen');
  var inputAuto = document.getElementById('autoConfirm');
  inputMinLen.value = settings.minLen;
  inputAuto.checked = !!settings.autoConfirm;

  document.getElementById('save').addEventListener('click', function(){
    var next = {
      minLen: Math.max(2, Math.min(16, parseInt(inputMinLen.value||'3',10))),
      autoConfirm: !!inputAuto.checked
    };
    try { localStorage.setItem('lexfall_settings', JSON.stringify(next)); } catch(e){}
    // simple feedback and go back
    window.location.href = 'lexfall.html';
  });
})();
</script>
</body>
</html>
